{"key":"dot-ignore-management-for-npm-package","url":"https://zexo.dev/posts/2020/03/15/dot-ignore-management-for-npm-package","path":"/posts/2020/03/15/dot-ignore-management-for-npm-package","title":"ç®¡ç†ä½ çš„ .ignore ç±»æ–‡ä»¶ - zexo.dev","breadcrumbs":{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://zexo.dev","name":"Home","position":1},{"@type":"ListItem","item":"https://zexo.dev/posts","name":"Posts","position":2},{"@type":"ListItem","item":"https://zexo.dev/posts/2020/03/15/dot-ignore-management-for-npm-package","name":"ç®¡ç†ä½ çš„ .ignore ç±»æ–‡ä»¶","position":3}]},"type":"DETAIL","metas":[{"name":"google-site-verification","content":"s3PYm0fCo0ImPqqXoPLiUb_bFdlYODKw54VGSkcFgyE"},{"id":"google-analytics","name":"google-analytics","content":"UA-68904127-2"},{"name":"og:site_name","content":"zexo.dev"},{"name":"og:type","content":"website"},{"name":"og:title","itemprop":"name","content":"ç®¡ç†ä½ çš„ .ignore ç±»æ–‡ä»¶"},{"name":"og:description","itemprop":"description","content":"æ¯æ¬¡åˆå§‹åŒ–é¡¹ç›®çš„æ—¶å€™ï¼Œéƒ½æ ¹æ® ä¸åŒé¡¹ç›®çš„è¯­è¨€ã€æ¡†æ¶ã€IDEã€ä¸€éç»„åˆäººå·¥åˆ›å»ºä¸åˆå¹¶ .gitignore æ–‡ä»¶ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚æˆ‘ç»å¸¸åœ¨ç–‘æƒ‘ï¼Œæ˜¯å¦æœ‰è¾ƒä¸ºæ ‡å‡†çš„ schematic æ¦‚å¿µå¯ä»¥ååŠ©ç»„è£…èµ·æ¥?æ¯”æ–¹è¯´ï¼Œæˆ‘å¸¸ç”¨çš„ IDE æ˜¯ IntelliJ IDEAï¼Œå¶å°”ä½¿ç”¨ VSCode çœ‹çœ‹æ—¥å¿—ã€è¿›è¡Œç®€å•çš„ç¼–è¾‘æ–‡æœ¬å·¥ä½œ;\n"},{"name":"og:image","itemprop":"image","content":"https:/zexo.dev/posts/2020/03/15/dot-ignore-management-for-npm-package/gitignore.png"},{"name":"og:type","content":"article"},{"name":"description","itemprop":"description","content":"æ¯æ¬¡åˆå§‹åŒ–é¡¹ç›®çš„æ—¶å€™ï¼Œéƒ½æ ¹æ® ä¸åŒé¡¹ç›®çš„è¯­è¨€ã€æ¡†æ¶ã€IDEã€ä¸€éç»„åˆäººå·¥åˆ›å»ºä¸åˆå¹¶ .gitignore æ–‡ä»¶ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚æˆ‘ç»å¸¸åœ¨ç–‘æƒ‘ï¼Œæ˜¯å¦æœ‰è¾ƒä¸ºæ ‡å‡†çš„ schematic æ¦‚å¿µå¯ä»¥ååŠ©ç»„è£…èµ·æ¥?æ¯”æ–¹è¯´ï¼Œæˆ‘å¸¸ç”¨çš„ IDE æ˜¯ IntelliJ IDEAï¼Œå¶å°”ä½¿ç”¨ VSCode çœ‹çœ‹æ—¥å¿—ã€è¿›è¡Œç®€å•çš„ç¼–è¾‘æ–‡æœ¬å·¥ä½œ;\n"}],"data":{"title":"ç®¡ç†ä½ çš„ .ignore ç±»æ–‡ä»¶","id":"dot-ignore-management-for-npm-package","created":"2020-03-15T00:00:00.000Z","updated":"2020-03-15T00:00:00.000Z","categories":[{"id":"blog","label":"Blog","total":0,"link":"/categories/blog"}],"tags":[{"id":"node","label":"Node","total":0,"link":"/tags/node"},{"id":"npm","label":"NPM","total":1,"link":"/tags/npm"},{"id":"git","label":"Git","total":2,"link":"/tags/git"}],"cover":"/posts/2020/03/15/dot-ignore-management-for-npm-package/gitignore.png","images":[],"toc":[{"label":"ç®¡ç†ä½ çš„ `.ignore` ç±»æ–‡ä»¶","level":1,"id":"ç®¡ç†ä½ çš„-ignore-ç±»æ–‡ä»¶","position":0,"children":[],"pid":-1},{"label":"èƒŒæ™¯","level":2,"id":"èƒŒæ™¯","position":1,"children":[],"pid":0},{"label":"åˆ›å»ºä¸ç»´æŠ¤ `.gitignore` æ–‡ä»¶åˆç†çš„åšæ³•","level":2,"id":"åˆ›å»ºä¸ç»´æŠ¤-gitignore-æ–‡ä»¶åˆç†çš„åšæ³•","position":2,"children":[],"pid":0},{"label":"`.gitignore` æ–‡ä»¶çš„ç»„åˆ","level":3,"id":"gitignore-æ–‡ä»¶çš„ç»„åˆ","position":3,"children":[],"pid":2},{"label":"è¡ç”Ÿçš„æ–°é—®é¢˜: å¦‚ä½•ç®¡ç† `.npmignore` æ–‡ä»¶?","level":2,"id":"è¡ç”Ÿçš„æ–°é—®é¢˜-å¦‚ä½•ç®¡ç†-npmignore-æ–‡ä»¶","position":4,"children":[],"pid":0},{"label":"æå‡»ä¿±ä¹éƒ¨çš„ç¬¬ä¸€æ¡è§„åˆ™","level":3,"id":"æå‡»ä¿±ä¹éƒ¨çš„ç¬¬ä¸€æ¡è§„åˆ™","position":5,"children":[],"pid":4},{"label":"package.json çš„ `files` å­—æ®µ","level":3,"id":"packagejson-çš„-files-å­—æ®µ","position":6,"children":[],"pid":4},{"label":"å°ç»“","level":2,"id":"å°ç»“","position":7,"children":[],"pid":0},{"label":"References","level":2,"id":"references","position":8,"children":[],"pid":0}],"summary":"æ¯æ¬¡åˆå§‹åŒ–é¡¹ç›®çš„æ—¶å€™ï¼Œéƒ½æ ¹æ® ä¸åŒé¡¹ç›®çš„è¯­è¨€ã€æ¡†æ¶ã€IDEã€ä¸€éç»„åˆäººå·¥åˆ›å»ºä¸åˆå¹¶ .gitignore æ–‡ä»¶ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚æˆ‘ç»å¸¸åœ¨ç–‘æƒ‘ï¼Œæ˜¯å¦æœ‰è¾ƒä¸ºæ ‡å‡†çš„ schematic æ¦‚å¿µå¯ä»¥ååŠ©ç»„è£…èµ·æ¥?æ¯”æ–¹è¯´ï¼Œæˆ‘å¸¸ç”¨çš„ IDE æ˜¯ IntelliJ IDEAï¼Œå¶å°”ä½¿ç”¨ VSCode çœ‹çœ‹æ—¥å¿—ã€è¿›è¡Œç®€å•çš„ç¼–è¾‘æ–‡æœ¬å·¥ä½œ;\n","src":"\n# ç®¡ç†ä½ çš„ `.ignore` ç±»æ–‡ä»¶\n\n## èƒŒæ™¯\n\næ¯æ¬¡åˆå§‹åŒ–é¡¹ç›®çš„æ—¶å€™ï¼Œéƒ½æ ¹æ® ä¸åŒé¡¹ç›®çš„è¯­è¨€ã€æ¡†æ¶ã€IDEã€ä¸€éç»„åˆäººå·¥åˆ›å»ºä¸åˆå¹¶ `.gitignore` æ–‡ä»¶ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚\n\næˆ‘ç»å¸¸åœ¨ç–‘æƒ‘ï¼Œæ˜¯å¦æœ‰è¾ƒä¸ºæ ‡å‡†çš„ schematic æ¦‚å¿µå¯ä»¥ååŠ©ç»„è£…èµ·æ¥?\n\næ¯”æ–¹è¯´ï¼Œæˆ‘å¸¸ç”¨çš„ IDE æ˜¯ `IntelliJ IDEA`ï¼Œå¶å°”ä½¿ç”¨ `VSCode` çœ‹çœ‹æ—¥å¿—ã€è¿›è¡Œç®€å•çš„ç¼–è¾‘æ–‡æœ¬å·¥ä½œ;\n\nä»é¡¹ç›®å¼€å‘è¯­è¨€ä¸Šçœ‹ï¼Œæ¥è§¦çš„ä¸»è¦è¯­è¨€å¯èƒ½æ˜¯ `Node`/`Java`;\n\nå†ä»åŒ…ç®¡ç†å™¨ã€æ„å»ºå·¥å…·ä¸Šçœ‹ï¼Œç›¸å…³è¯­è¨€ç”Ÿæ€ä¸­ç»å¸¸é‡åˆ°çš„å…³é”®è¯åˆ™æ˜¯ `NPM`/`Yarn`/`Maven`/`Gradle`/`SBT`(?)ã€‚\n\nå¦‚ä½•å¯»æ‰¾ä¸€ä¸ªåˆç†çš„ `.gitignore` ç»„åˆæ–¹å¼?\n\n> è¿™æ˜¯ä¸€ä»½å¥‡æ€ªçš„çŸ¥è¯†å½’çº³ï¼Œä¸»è¦æ˜¯ä¸ºäº†èˆ’ç¼“ä¸ªäººåœ¨é¡¹ç›®å·¥ç¨‹åŒ–æ–¹é¢çº ç»“çš„ä¸€äº›ç»†èŠ‚ã€‚é€šè¿‡å­¦ä¹ ä¸€ä¸ªç»´æŠ¤ `.ignore` æ–‡ä»¶å†…å®¹çš„æ–¹æ³•è®ºï¼Œå¹¶åŠæ—¶å¯¹è‡ªå·±çš„å·²æœ‰é¡¹ç›®ã€æŒ‰ç…§æ–°çš„ã€æœ‰æ„ä¹‰çš„å®è·µæ–¹æ³•è¿›è¡Œé‡æ„ã€æ”¹é€ ï¼Œåé¢åœ¨é¢ä¸´ä¸€äº›æ–¹æ¡ˆé€‰å‹æ—¶ï¼Œå¯ä»¥å¢åŠ è‡ªå·±å¯¹æ—¢æœ‰æ–¹æ¡ˆã€è§‚ç‚¹çš„è¯´æœåŠ›ã€‚\n\n## åˆ›å»ºä¸ç»´æŠ¤ `.gitignore` æ–‡ä»¶åˆç†çš„åšæ³•\n\nå¯¹äº Git çš„ `.gitignore`ï¼Œå…¶å® Github çš„å®˜æ–¹æ–‡æ¡£ã€å’Œä¸€äº› Star æ•°æ¯”è¾ƒå¤šçš„ Github Repo ä¸­ï¼Œéƒ½å·²ç»æåŠéƒ¨åˆ†çš„è¾ƒä½³å®è·µã€‚\n\nè¯¦æƒ…å¯ä»¥çœ‹åé¢ **References** éƒ¨åˆ†çš„é“¾æ¥ã€‚\n\nåœ¨å­¦ä¹ äº†ä¸Šé¢çš„æ–‡æ¡£ä¹‹åï¼Œå†³å®šä½¿ç”¨ `gitignore.io` æ¥ååˆ›å»ºä¸ç»´æŠ¤ `.gitignore` æ–‡ä»¶å†…å®¹ã€‚\n\n### `.gitignore` æ–‡ä»¶çš„ç»„åˆ\n\n> å…¶å®è§‚çœ‹ [gitignore.io çš„æ•™å­¦è§†é¢‘](https://docs.gitignore.io/) å·²ç»èƒ½æ¸…æ™°äº†è§£åº”è¯¥åšä»€ä¹ˆï¼Œä½†è¿™é‡Œè¿˜æ˜¯é‡å¤çš„æè¿°ä¸‹æµç¨‹ã€‚\n\nåœ¨äº†è§£äº†ä¸€éƒ¨åˆ† `.gitignore` æ¨¡æ¿ä¹‹åï¼Œå¯¹äº IDE/è¯­è¨€/è¯­è¨€ç”Ÿæ€ æ¥è®²ï¼Œæœ€ç»ˆåªéœ€è¦æ‹†åˆ†æˆä¸¤éƒ¨åˆ†ã€‚\n\nè¯­è¨€ç›¸å…³çš„ `.gitignore` template å·²ç»æ¶µç›–äº† è¯­è¨€ç”Ÿæ€ç›¸å…³çš„éƒ¨åˆ†ã€‚\n\næ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä»ä¸¤æ–¹é¢å…³å¿ƒæˆ‘ä»¬æ”¹ç»„åˆå“ªä¸¤ç§æ–¹å‘çš„ `.gitignore` templateã€‚\n\nå¦‚å¼€å‘ NPM Package ç±»é¡¹ç›®ï¼Œæˆ‘ä¼šä½¿ç”¨ `Jetbrains` å®¶ IDE + `VSCode` + `NPM/Yarn` ç›¸å…³çš„ `.gitignore` templateã€‚\n\nåœ¨ gitignore.io ä¸Šï¼Œåˆ™å¯ä»¥å°†å…¶ç®€åŒ–æˆä¸‹é¢ä¸‰ä¸ªç»„åˆ:\n\n[https://www.gitignore.io/api/node,code,jetbrains+all](https://www.gitignore.io/api/node,code,jetbrains+all)\n\n`gitignore.io` çš„ API ä¼šæ ¹æ®ä½ çš„æŸ¥è¯¢æ¡ä»¶è¿›è¡Œæ’åºã€è¾“å‡ºä¸€ä¸ªåˆå¹¶åçš„ `.gitignore` å†…å®¹ï¼Œå¤åˆ¶ç²˜è´´å³å¯ä½¿ç”¨ã€‚\n\n## è¡ç”Ÿçš„æ–°é—®é¢˜: å¦‚ä½•ç®¡ç† `.npmignore` æ–‡ä»¶?\n\näº‹å®ä¸Šï¼Œåœ¨ `.ignore` çš„ä¸–ç•Œé‡Œï¼Œæœ‰å¾ˆå¤šå…¶ä»–ç±»ä¼¼çš„æ–‡ä»¶ï¼Œæœ‰æ—¶å€™éƒ½éœ€è¦è€ƒè™‘å¦‚ä½•åˆç†åœ°ç¼–å†™ä¸ç»´æŠ¤ã€‚\n\nå¦‚:\n\n- .dockerignore\n- .npmignore\n- .eslintignore\n- .prettierignore .....\n\nå¼€å§‹çº ç»“è¿™ä»¶äº‹æƒ…åï¼Œæˆ‘åˆå¼€å§‹å¯»æ‰¾ `.npmignore` çš„æœ€ä½³å®è·µã€‚\n\nç›´åˆ°è¢« [For the love of god, dont't use .npmignore - Medium](https://medium.com/@jdxcode/for-the-love-of-god-dont-use-npmignore-f93c08909d8d) è¿™ç¯‡æ–‡ç« å¯å‘ï¼Œé‡è¯»äº† NPM Package çš„ä¸€äº› Specificationï¼Œåˆæ¶¨äº†æ–°çš„å§¿åŠ¿ã€‚\n\n### æå‡»ä¿±ä¹éƒ¨çš„ç¬¬ä¸€æ¡è§„åˆ™\n\n> `.npmignore` æ–‡ä»¶çš„æœ€ä½³å®è·µï¼Œä¾¿æ˜¯æ²¡æœ‰ `.npmignore` æ–‡ä»¶ã€‚\n\nNPM ç›¸å…³çš„ `.npmignore` æ–‡ä»¶ï¼Œå…¶å®æ˜¯æ§åˆ¶åœ¨åŒ…å‘å¸ƒæ—¶çš„æ–‡ä»¶å¿½ç•¥è§„åˆ™ï¼Œç›¸å½“äº:\n\n```\næºä»£ç  + æ„å»ºäº§ç‰© - å¿½ç•¥æ–‡ä»¶ = æœ€ç»ˆå‘å¸ƒæ—¶è¢«æ‰“åŒ…çš„æ–‡ä»¶ã€‚\n```\n\nä¸Šé¢çš„å½¢å¼å…¶å®æ˜¯è¦å¯¹é¡¹ç›®æ–‡ä»¶ç›®å½•åšä¸€ä¸ªå‡æ³•ã€‚å¯¹äºéœ€è¦å‘å¸ƒçš„äº§ç‰©ï¼Œå…¶å®ç”¨åŠ æ³•çš„æ€æƒ³ï¼Œå¿ƒæ™ºè´Ÿæ‹…ä¼šæ›´å°‘ã€‚\n\næœ‰ä¸€è¡Œå‘½ä»¤ï¼Œå¯ä»¥å¸®åŠ©ä½ é¢„è§ˆï¼Œå½“æ‰§è¡Œ `npm publish` æ—¶ï¼Œå‘å¸ƒçš„æ–‡ä»¶æ ‘:\n\n```shell script\nnpm pack && tar -xvzf *.tgz && rm -rf package *.tgz\n```\n\nä»–ä¼šè¾“å‡ºç±»ä¼¼ä»¥ä¸‹å†…å®¹:\n\n```shell script\n$ npm pack && tar -xvzf *.tgz && rm -rf package *.tgz\nnpm notice\nnpm notice ğŸ“¦  nestx-amqp@1.0.6\nnpm notice === Tarball Contents ===\nnpm notice 1.1kB LICENSE\nnpm notice 199B  dist/amqp.constants.js\nnpm notice 1.9kB dist/amqp.module.js\nnpm notice 77B   dist/amqp.options.js\nnpm notice 1.3kB dist/amqp.providers.js\nnpm notice 288B  dist/index.js\nnpm notice 3.3kB package.json\nnpm notice 1.8kB CHANGELOG.md\nnpm notice 2.3kB README.md\nnpm notice 114B  dist/amqp.constants.d.ts\nnpm notice 313B  dist/amqp.module.d.ts\nnpm notice 487B  dist/amqp.options.d.ts\nnpm notice 549B  dist/amqp.providers.d.ts\nnpm notice 131B  dist/index.d.ts\nnpm notice === Tarball Details ===\nnpm notice name:          nestx-amqp\nnpm notice version:       1.0.6\nnpm notice filename:      nestx-amqp-1.0.6.tgz\nnpm notice package size:  5.0 kB\nnpm notice unpacked size: 13.9 kB\nnpm notice shasum:        198fb0b7768525133d21488b901367ea4d26bfc9\nnpm notice integrity:     sha512-szLqvt0ZUNW2z[...]MagAIZuZRrUWQ==\nnpm notice total files:   14\nnpm notice\nnestx-amqp-1.0.6.tgz\nx package/LICENSE\nx package/dist/amqp.constants.js\nx package/dist/amqp.module.js\nx package/dist/amqp.options.js\nx package/dist/amqp.providers.js\nx package/dist/index.js\nx package/package.json\nx package/CHANGELOG.md\nx package/README.md\nx package/dist/amqp.constants.d.ts\nx package/dist/amqp.module.d.ts\nx package/dist/amqp.options.d.ts\nx package/dist/amqp.providers.d.ts\nx package/dist/index.d.ts\n```\n\næœ‰äº†è¿™ä¸ªå‘½ä»¤ä¹‹åï¼Œæˆ‘ä»¬åœ¨æ›´æ”¹/åˆ é™¤ `.npmignore` æ—¶ï¼Œå°±èƒ½æ–¹ä¾¿åœ°å¯¹æ¯”å‡ºå˜åŒ–\n\n### package.json çš„ `files` å­—æ®µ\n\nç°åœ¨ï¼Œæˆ‘ä»¬åˆ æ‰ `.npmignore` æ–‡ä»¶ï¼Œä½¿ç”¨ [package.json çš„ `files` å­—æ®µ](https://docs.npmjs.com/files/package.json#files) å£°æ˜æ‰“åŒ…å†…å®¹ï¼ŒåšåŠ æ³•ã€‚\n\n`files` å­—æ®µçš„ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸€è¡Œä½¿ç”¨ unix path glob patternï¼Œä»¥ `package.json` æ‰€åœ¨ç›®å½•è¿›è¡Œè·¯å¾„åŒ¹é…ã€‚\n\nå¦‚ä¸Šä¸€éƒ¨åˆ†çš„ `npm pack` è¾“å‡ºçš„å†…å®¹ï¼Œå…·ä½“çš„ `files` å­—æ®µæ˜¯:\n\n```json\n{\n  \"files\": [\"dist\"]\n}\n```\n\nè¡¨ç¤ºäº† `dist` ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼Œéƒ½ä¼šè¢«æ‰“åŒ…ã€‚\n\nå¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜æ¥äº†ï¼Œé‚£ä¸ºä»€ä¹ˆåœ¨è¾“å‡ºä¸­æœ‰å¯èƒ½çœ‹åˆ°å…¶ä»–çš„æ–‡ä»¶å‘¢? `package.json` æ˜¯å¦éœ€è¦æ˜¾å¼åœ°å£°æ˜åœ¨ `files` å­—æ®µä¸­?\n\nè¿™é‡Œè¿˜æ˜¯è¦é˜…è¯»ä¸‹ `files` åŠå…¶èƒŒåçš„çº¦å®šã€‚\n\n`npm publish`ï¼Œæ°¸è¿œä¼˜å…ˆè¯»å– `files` åŒ¹é…çš„æ–‡ä»¶ï¼Œæ°¸ä¸å¿½ç•¥ï¼Œå…¶æ¬¡å†ä» `.npmignore` ä¸­è¿›è¡Œå‡æ³•ã€‚\n\nä¸‹é¢è¿™äº›æ–‡ä»¶ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°†ä¼šé»˜è®¤åœ°åŠ å…¥åˆ° `npm publish` æ‰€å‘å¸ƒçš„å†…å®¹é‡Œï¼Œä¸éœ€è¦åœ¨ `files` ä¸­å†å£°æ˜ã€‚ (NPM é»˜è®¤çº¦å®š)\n\nåŒæ—¶ä¹ŸåŒ…æ‹¬ `package.json#main` ä¸­å£°æ˜çš„æ–‡ä»¶ã€‚\n\n```\npackage.json\nREADME\nCHANGES / CHANGELOG / HISTORY\nLICENSE / LICENCE\nNOTICE\nREADME, CHANGES, LICENSE & NOTICE can have any case and extension.\n```\n\nä¸‹é¢è¿™äº›è·¯å¾„ï¼Œå°†ä¼šé»˜è®¤åœ°è¢«å¿½ç•¥ï¼Œæ°¸è¿œä¸ä¼šè¢« `npm publish` æ‰€å‘å¸ƒã€‚(NPM é»˜è®¤çº¦å®š)\n\n```\n.git\nCVS\n.svn\n.hg\n.lock-wscript\n.wafpickle-N\n.*.swp\n.DS_Store\n._*\nnpm-debug.log\n.npmrc\nnode_modules\nconfig.gypi\n*.orig\npackage-lock.json (use shrinkwrap instead)\n```\n\näº†è§£åˆ°è¿™éƒ¨åˆ†å¥‡å¥‡æ€ªæ€ªçš„çŸ¥è¯†ä¸çº¦å®šåï¼Œæˆ‘é©¬ä¸Šåˆ é™¤äº†æ‰€æœ‰ NPM Package é¡¹ç›®ä»£ç ä¸­çš„ `.npmignore`ï¼Œä½¿ç”¨ `files` åšç®€å•çš„åŠ æ³•ã€‚\n\n## å°ç»“\n\n- åˆ›å»º/ç»´æŠ¤ `.gitignore` å¯ä»¥ä½¿ç”¨ gitignore.io çš„ API ç»„åˆç”Ÿæˆå†…å®¹\n- å¼€å§‹åœæ­¢ä½¿ç”¨ `.npmignore`ï¼Œè€Œæ˜¯ç”¨ `package.json#files` è¿›è¡Œ NPM åº“å‘å¸ƒæ–‡ä»¶æ ‘ç®¡ç†\n\n## References\n\n- [A collection of `.gitignore` templates - Github](https://github.com/github/gitignore)\n- [For the love of god, dont't use .npmignore - Medium](https://medium.com/@jdxcode/for-the-love-of-god-dont-use-npmignore-f93c08909d8d)\n","html":"<h1 id=\"ç®¡ç†ä½ çš„-ignore-ç±»æ–‡ä»¶\">ç®¡ç†ä½ çš„ <code>.ignore</code> ç±»æ–‡ä»¶</h1>\n<h2 id=\"èƒŒæ™¯\">èƒŒæ™¯</h2>\n<p>æ¯æ¬¡åˆå§‹åŒ–é¡¹ç›®çš„æ—¶å€™ï¼Œéƒ½æ ¹æ® ä¸åŒé¡¹ç›®çš„è¯­è¨€ã€æ¡†æ¶ã€IDEã€ä¸€éç»„åˆäººå·¥åˆ›å»ºä¸åˆå¹¶ <code>.gitignore</code> æ–‡ä»¶ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚</p>\n<p>æˆ‘ç»å¸¸åœ¨ç–‘æƒ‘ï¼Œæ˜¯å¦æœ‰è¾ƒä¸ºæ ‡å‡†çš„ schematic æ¦‚å¿µå¯ä»¥ååŠ©ç»„è£…èµ·æ¥?</p>\n<p>æ¯”æ–¹è¯´ï¼Œæˆ‘å¸¸ç”¨çš„ IDE æ˜¯ <code>IntelliJ IDEA</code>ï¼Œå¶å°”ä½¿ç”¨ <code>VSCode</code> çœ‹çœ‹æ—¥å¿—ã€è¿›è¡Œç®€å•çš„ç¼–è¾‘æ–‡æœ¬å·¥ä½œ;</p>\n<p>ä»é¡¹ç›®å¼€å‘è¯­è¨€ä¸Šçœ‹ï¼Œæ¥è§¦çš„ä¸»è¦è¯­è¨€å¯èƒ½æ˜¯ <code>Node</code>/<code>Java</code>;</p>\n<p>å†ä»åŒ…ç®¡ç†å™¨ã€æ„å»ºå·¥å…·ä¸Šçœ‹ï¼Œç›¸å…³è¯­è¨€ç”Ÿæ€ä¸­ç»å¸¸é‡åˆ°çš„å…³é”®è¯åˆ™æ˜¯ <code>NPM</code>/<code>Yarn</code>/<code>Maven</code>/<code>Gradle</code>/<code>SBT</code>(?)ã€‚</p>\n<p>å¦‚ä½•å¯»æ‰¾ä¸€ä¸ªåˆç†çš„ <code>.gitignore</code> ç»„åˆæ–¹å¼?</p>\n<blockquote>\n<p>è¿™æ˜¯ä¸€ä»½å¥‡æ€ªçš„çŸ¥è¯†å½’çº³ï¼Œä¸»è¦æ˜¯ä¸ºäº†èˆ’ç¼“ä¸ªäººåœ¨é¡¹ç›®å·¥ç¨‹åŒ–æ–¹é¢çº ç»“çš„ä¸€äº›ç»†èŠ‚ã€‚é€šè¿‡å­¦ä¹ ä¸€ä¸ªç»´æŠ¤ <code>.ignore</code> æ–‡ä»¶å†…å®¹çš„æ–¹æ³•è®ºï¼Œå¹¶åŠæ—¶å¯¹è‡ªå·±çš„å·²æœ‰é¡¹ç›®ã€æŒ‰ç…§æ–°çš„ã€æœ‰æ„ä¹‰çš„å®è·µæ–¹æ³•è¿›è¡Œé‡æ„ã€æ”¹é€ ï¼Œåé¢åœ¨é¢ä¸´ä¸€äº›æ–¹æ¡ˆé€‰å‹æ—¶ï¼Œå¯ä»¥å¢åŠ è‡ªå·±å¯¹æ—¢æœ‰æ–¹æ¡ˆã€è§‚ç‚¹çš„è¯´æœåŠ›ã€‚</p>\n</blockquote>\n<h2 id=\"åˆ›å»ºä¸ç»´æŠ¤-gitignore-æ–‡ä»¶åˆç†çš„åšæ³•\">åˆ›å»ºä¸ç»´æŠ¤ <code>.gitignore</code> æ–‡ä»¶åˆç†çš„åšæ³•</h2>\n<p>å¯¹äº Git çš„ <code>.gitignore</code>ï¼Œå…¶å® Github çš„å®˜æ–¹æ–‡æ¡£ã€å’Œä¸€äº› Star æ•°æ¯”è¾ƒå¤šçš„ Github Repo ä¸­ï¼Œéƒ½å·²ç»æåŠéƒ¨åˆ†çš„è¾ƒä½³å®è·µã€‚</p>\n<p>è¯¦æƒ…å¯ä»¥çœ‹åé¢ <strong>References</strong> éƒ¨åˆ†çš„é“¾æ¥ã€‚</p>\n<p>åœ¨å­¦ä¹ äº†ä¸Šé¢çš„æ–‡æ¡£ä¹‹åï¼Œå†³å®šä½¿ç”¨ <code>gitignore.io</code> æ¥ååˆ›å»ºä¸ç»´æŠ¤ <code>.gitignore</code> æ–‡ä»¶å†…å®¹ã€‚</p>\n<h3 id=\"gitignore-æ–‡ä»¶çš„ç»„åˆ\"><code>.gitignore</code> æ–‡ä»¶çš„ç»„åˆ</h3>\n<blockquote>\n<p>å…¶å®è§‚çœ‹ <a href=\"https://docs.gitignore.io/\">gitignore.io çš„æ•™å­¦è§†é¢‘</a> å·²ç»èƒ½æ¸…æ™°äº†è§£åº”è¯¥åšä»€ä¹ˆï¼Œä½†è¿™é‡Œè¿˜æ˜¯é‡å¤çš„æè¿°ä¸‹æµç¨‹ã€‚</p>\n</blockquote>\n<p>åœ¨äº†è§£äº†ä¸€éƒ¨åˆ† <code>.gitignore</code> æ¨¡æ¿ä¹‹åï¼Œå¯¹äº IDE/è¯­è¨€/è¯­è¨€ç”Ÿæ€ æ¥è®²ï¼Œæœ€ç»ˆåªéœ€è¦æ‹†åˆ†æˆä¸¤éƒ¨åˆ†ã€‚</p>\n<p>è¯­è¨€ç›¸å…³çš„ <code>.gitignore</code> template å·²ç»æ¶µç›–äº† è¯­è¨€ç”Ÿæ€ç›¸å…³çš„éƒ¨åˆ†ã€‚</p>\n<p>æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä»ä¸¤æ–¹é¢å…³å¿ƒæˆ‘ä»¬æ”¹ç»„åˆå“ªä¸¤ç§æ–¹å‘çš„ <code>.gitignore</code> templateã€‚</p>\n<p>å¦‚å¼€å‘ NPM Package ç±»é¡¹ç›®ï¼Œæˆ‘ä¼šä½¿ç”¨ <code>Jetbrains</code> å®¶ IDE + <code>VSCode</code> + <code>NPM/Yarn</code> ç›¸å…³çš„ <code>.gitignore</code> templateã€‚</p>\n<p>åœ¨ gitignore.io ä¸Šï¼Œåˆ™å¯ä»¥å°†å…¶ç®€åŒ–æˆä¸‹é¢ä¸‰ä¸ªç»„åˆ:</p>\n<p><a href=\"https://www.gitignore.io/api/node,code,jetbrains+all\">https://www.gitignore.io/api/node,code,jetbrains+all</a></p>\n<p><code>gitignore.io</code> çš„ API ä¼šæ ¹æ®ä½ çš„æŸ¥è¯¢æ¡ä»¶è¿›è¡Œæ’åºã€è¾“å‡ºä¸€ä¸ªåˆå¹¶åçš„ <code>.gitignore</code> å†…å®¹ï¼Œå¤åˆ¶ç²˜è´´å³å¯ä½¿ç”¨ã€‚</p>\n<h2 id=\"è¡ç”Ÿçš„æ–°é—®é¢˜-å¦‚ä½•ç®¡ç†-npmignore-æ–‡ä»¶\">è¡ç”Ÿçš„æ–°é—®é¢˜: å¦‚ä½•ç®¡ç† <code>.npmignore</code> æ–‡ä»¶?</h2>\n<p>äº‹å®ä¸Šï¼Œåœ¨ <code>.ignore</code> çš„ä¸–ç•Œé‡Œï¼Œæœ‰å¾ˆå¤šå…¶ä»–ç±»ä¼¼çš„æ–‡ä»¶ï¼Œæœ‰æ—¶å€™éƒ½éœ€è¦è€ƒè™‘å¦‚ä½•åˆç†åœ°ç¼–å†™ä¸ç»´æŠ¤ã€‚</p>\n<p>å¦‚:</p>\n<ul>\n<li>.dockerignore</li>\n<li>.npmignore</li>\n<li>.eslintignore</li>\n<li>.prettierignore .....</li>\n</ul>\n<p>å¼€å§‹çº ç»“è¿™ä»¶äº‹æƒ…åï¼Œæˆ‘åˆå¼€å§‹å¯»æ‰¾ <code>.npmignore</code> çš„æœ€ä½³å®è·µã€‚</p>\n<p>ç›´åˆ°è¢« <a href=\"https://medium.com/@jdxcode/for-the-love-of-god-dont-use-npmignore-f93c08909d8d\">For the love of god, dont't use .npmignore - Medium</a> è¿™ç¯‡æ–‡ç« å¯å‘ï¼Œé‡è¯»äº† NPM Package çš„ä¸€äº› Specificationï¼Œåˆæ¶¨äº†æ–°çš„å§¿åŠ¿ã€‚</p>\n<h3 id=\"æå‡»ä¿±ä¹éƒ¨çš„ç¬¬ä¸€æ¡è§„åˆ™\">æå‡»ä¿±ä¹éƒ¨çš„ç¬¬ä¸€æ¡è§„åˆ™</h3>\n<blockquote>\n<p><code>.npmignore</code> æ–‡ä»¶çš„æœ€ä½³å®è·µï¼Œä¾¿æ˜¯æ²¡æœ‰ <code>.npmignore</code> æ–‡ä»¶ã€‚</p>\n</blockquote>\n<p>NPM ç›¸å…³çš„ <code>.npmignore</code> æ–‡ä»¶ï¼Œå…¶å®æ˜¯æ§åˆ¶åœ¨åŒ…å‘å¸ƒæ—¶çš„æ–‡ä»¶å¿½ç•¥è§„åˆ™ï¼Œç›¸å½“äº:</p>\n<pre class=\"hljs\"><code>æºä»£ç  + æ„å»ºäº§ç‰© - å¿½ç•¥æ–‡ä»¶ = æœ€ç»ˆå‘å¸ƒæ—¶è¢«æ‰“åŒ…çš„æ–‡ä»¶ã€‚\n</code></pre>\n<p>ä¸Šé¢çš„å½¢å¼å…¶å®æ˜¯è¦å¯¹é¡¹ç›®æ–‡ä»¶ç›®å½•åšä¸€ä¸ªå‡æ³•ã€‚å¯¹äºéœ€è¦å‘å¸ƒçš„äº§ç‰©ï¼Œå…¶å®ç”¨åŠ æ³•çš„æ€æƒ³ï¼Œå¿ƒæ™ºè´Ÿæ‹…ä¼šæ›´å°‘ã€‚</p>\n<p>æœ‰ä¸€è¡Œå‘½ä»¤ï¼Œå¯ä»¥å¸®åŠ©ä½ é¢„è§ˆï¼Œå½“æ‰§è¡Œ <code>npm publish</code> æ—¶ï¼Œå‘å¸ƒçš„æ–‡ä»¶æ ‘:</p>\n<pre class=\"hljs\"><code>npm pack &amp;&amp; tar -xvzf *.tgz &amp;&amp; rm -rf package *.tgz\n</code></pre>\n<p>ä»–ä¼šè¾“å‡ºç±»ä¼¼ä»¥ä¸‹å†…å®¹:</p>\n<pre class=\"hljs\"><code><span class=\"hljs-meta\">$</span><span class=\"bash\"> npm pack &amp;&amp; tar -xvzf *.tgz &amp;&amp; rm -rf package *.tgz</span>\nnpm notice\nnpm notice ğŸ“¦  nestx-amqp@1.0.6\nnpm notice === Tarball Contents ===\nnpm notice 1.1kB LICENSE\nnpm notice 199B  dist/amqp.constants.js\nnpm notice 1.9kB dist/amqp.module.js\nnpm notice 77B   dist/amqp.options.js\nnpm notice 1.3kB dist/amqp.providers.js\nnpm notice 288B  dist/index.js\nnpm notice 3.3kB package.json\nnpm notice 1.8kB CHANGELOG.md\nnpm notice 2.3kB README.md\nnpm notice 114B  dist/amqp.constants.d.ts\nnpm notice 313B  dist/amqp.module.d.ts\nnpm notice 487B  dist/amqp.options.d.ts\nnpm notice 549B  dist/amqp.providers.d.ts\nnpm notice 131B  dist/index.d.ts\nnpm notice === Tarball Details ===\nnpm notice name:          nestx-amqp\nnpm notice version:       1.0.6\nnpm notice filename:      nestx-amqp-1.0.6.tgz\nnpm notice package size:  5.0 kB\nnpm notice unpacked size: 13.9 kB\nnpm notice shasum:        198fb0b7768525133d21488b901367ea4d26bfc9\nnpm notice integrity:     sha512-szLqvt0ZUNW2z[...]MagAIZuZRrUWQ==\nnpm notice total files:   14\nnpm notice\nnestx-amqp-1.0.6.tgz\nx package/LICENSE\nx package/dist/amqp.constants.js\nx package/dist/amqp.module.js\nx package/dist/amqp.options.js\nx package/dist/amqp.providers.js\nx package/dist/index.js\nx package/package.json\nx package/CHANGELOG.md\nx package/README.md\nx package/dist/amqp.constants.d.ts\nx package/dist/amqp.module.d.ts\nx package/dist/amqp.options.d.ts\nx package/dist/amqp.providers.d.ts\nx package/dist/index.d.ts\n</code></pre>\n<p>æœ‰äº†è¿™ä¸ªå‘½ä»¤ä¹‹åï¼Œæˆ‘ä»¬åœ¨æ›´æ”¹/åˆ é™¤ <code>.npmignore</code> æ—¶ï¼Œå°±èƒ½æ–¹ä¾¿åœ°å¯¹æ¯”å‡ºå˜åŒ–</p>\n<h3 id=\"packagejson-çš„-files-å­—æ®µ\">package.json çš„ <code>files</code> å­—æ®µ</h3>\n<p>ç°åœ¨ï¼Œæˆ‘ä»¬åˆ æ‰ <code>.npmignore</code> æ–‡ä»¶ï¼Œä½¿ç”¨ <a href=\"https://docs.npmjs.com/files/package.json#files\">package.json çš„ <code>files</code> å­—æ®µ</a> å£°æ˜æ‰“åŒ…å†…å®¹ï¼ŒåšåŠ æ³•ã€‚</p>\n<p><code>files</code> å­—æ®µçš„ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸€è¡Œä½¿ç”¨ unix path glob patternï¼Œä»¥ <code>package.json</code> æ‰€åœ¨ç›®å½•è¿›è¡Œè·¯å¾„åŒ¹é…ã€‚</p>\n<p>å¦‚ä¸Šä¸€éƒ¨åˆ†çš„ <code>npm pack</code> è¾“å‡ºçš„å†…å®¹ï¼Œå…·ä½“çš„ <code>files</code> å­—æ®µæ˜¯:</p>\n<pre class=\"hljs\"><code>{\n  <span class=\"hljs-attr\">&quot;files&quot;</span>: [<span class=\"hljs-string\">&quot;dist&quot;</span>]\n}\n</code></pre>\n<p>è¡¨ç¤ºäº† <code>dist</code> ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼Œéƒ½ä¼šè¢«æ‰“åŒ…ã€‚</p>\n<p>å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜æ¥äº†ï¼Œé‚£ä¸ºä»€ä¹ˆåœ¨è¾“å‡ºä¸­æœ‰å¯èƒ½çœ‹åˆ°å…¶ä»–çš„æ–‡ä»¶å‘¢? <code>package.json</code> æ˜¯å¦éœ€è¦æ˜¾å¼åœ°å£°æ˜åœ¨ <code>files</code> å­—æ®µä¸­?</p>\n<p>è¿™é‡Œè¿˜æ˜¯è¦é˜…è¯»ä¸‹ <code>files</code> åŠå…¶èƒŒåçš„çº¦å®šã€‚</p>\n<p><code>npm publish</code>ï¼Œæ°¸è¿œä¼˜å…ˆè¯»å– <code>files</code> åŒ¹é…çš„æ–‡ä»¶ï¼Œæ°¸ä¸å¿½ç•¥ï¼Œå…¶æ¬¡å†ä» <code>.npmignore</code> ä¸­è¿›è¡Œå‡æ³•ã€‚</p>\n<p>ä¸‹é¢è¿™äº›æ–‡ä»¶ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°†ä¼šé»˜è®¤åœ°åŠ å…¥åˆ° <code>npm publish</code> æ‰€å‘å¸ƒçš„å†…å®¹é‡Œï¼Œä¸éœ€è¦åœ¨ <code>files</code> ä¸­å†å£°æ˜ã€‚ (NPM é»˜è®¤çº¦å®š)</p>\n<p>åŒæ—¶ä¹ŸåŒ…æ‹¬ <code>package.json#main</code> ä¸­å£°æ˜çš„æ–‡ä»¶ã€‚</p>\n<pre class=\"hljs\"><code>package.json\nREADME\nCHANGES / CHANGELOG / HISTORY\nLICENSE / LICENCE\nNOTICE\nREADME, CHANGES, LICENSE &amp; NOTICE can have any case and extension.\n</code></pre>\n<p>ä¸‹é¢è¿™äº›è·¯å¾„ï¼Œå°†ä¼šé»˜è®¤åœ°è¢«å¿½ç•¥ï¼Œæ°¸è¿œä¸ä¼šè¢« <code>npm publish</code> æ‰€å‘å¸ƒã€‚(NPM é»˜è®¤çº¦å®š)</p>\n<pre class=\"hljs\"><code>.git\nCVS\n.svn\n.hg\n.lock-wscript\n.wafpickle-N\n.*.swp\n.DS_Store\n._*\nnpm-debug.log\n.npmrc\nnode_modules\nconfig.gypi\n*.orig\npackage-lock.json (use shrinkwrap instead)\n</code></pre>\n<p>äº†è§£åˆ°è¿™éƒ¨åˆ†å¥‡å¥‡æ€ªæ€ªçš„çŸ¥è¯†ä¸çº¦å®šåï¼Œæˆ‘é©¬ä¸Šåˆ é™¤äº†æ‰€æœ‰ NPM Package é¡¹ç›®ä»£ç ä¸­çš„ <code>.npmignore</code>ï¼Œä½¿ç”¨ <code>files</code> åšç®€å•çš„åŠ æ³•ã€‚</p>\n<h2 id=\"å°ç»“\">å°ç»“</h2>\n<ul>\n<li>åˆ›å»º/ç»´æŠ¤ <code>.gitignore</code> å¯ä»¥ä½¿ç”¨ gitignore.io çš„ API ç»„åˆç”Ÿæˆå†…å®¹</li>\n<li>å¼€å§‹åœæ­¢ä½¿ç”¨ <code>.npmignore</code>ï¼Œè€Œæ˜¯ç”¨ <code>package.json#files</code> è¿›è¡Œ NPM åº“å‘å¸ƒæ–‡ä»¶æ ‘ç®¡ç†</li>\n</ul>\n<h2 id=\"references\">References</h2>\n<ul>\n<li><a href=\"https://github.com/github/gitignore\">A collection of <code>.gitignore</code> templates - Github</a></li>\n<li><a href=\"https://medium.com/@jdxcode/for-the-love-of-god-dont-use-npmignore-f93c08909d8d\">For the love of god, dont't use .npmignore - Medium</a></li>\n</ul>\n","disqus":{"shortname":"aquariuslt","url":"https://zexo.dev/posts/2020/03/15/dot-ignore-management-for-npm-package","identifier":"-posts-2020-03-15-dot-ignore-management-for-npm-package"}}}